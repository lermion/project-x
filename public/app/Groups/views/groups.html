<div style="min-height: 100%;">
    <div class="user-main-content">
        <div class="user-main-content-item">
            <header>
                <div class="header header-user">
                    <a class="logo" ui-sref="feed"></a>

                    <div class="main-menu" ng-click="vm.openMenu();" ng-class="vm.showMenu ? 'show-menu' : ''"
                         ng-init="vm.showMenu=true;">
                        <a class="drop-menu" href=""></a>

                        <div class="menu-item" ng-show="vm.showMenu">
                            <a class="profile" ui-sref="user({username: vm.userName})">Мой профиль</a>
                            <a class="places" ui-sref="places">Места <span class="places-count-span"
                                                                           ng-if="counters.placesNew > 0">{{counters.placesNew}}</span></a>
                            <a class="main-header-group" ui-sref="groups">Группы <span class="places-count-span"
                                                                                       ng-if="counters.groupsNew > 0">{{counters.groupsNew}}</span></a>
                            <a class="chat" ui-sref="chat"> Чаты <span class="places-count-span">10</span></a>
                            <a class="settings" ui-sref="settings">Настройки</a>

                            <div class="search">
                                <input type="text" placeholder="Поиск...">
                                <span class="button"></span>
                            </div>
                        </div>
                    </div>
                    <div class="search main-header-search" ng-click="showSearch = !showSearch">
                        <!--                 <input type="text" placeholder="Поиск...">
                                        <span class="button"></span> -->
                    </div>
                    <a class="exit" href="javascript:void(0);" ng-click="vm.logOut()"><span></span>Выйти</a>
                </div>
                <div class="header-search-container" ng-show="showSearch" ng-init="showSearch = false">
                    <div class="header-search-input-wrap">
                        <form name="form.search" ng-submit="submitSearch(strSearch)" novalidate>
                            <input type="text" ng-model="strSearch" placeholder="Поиск...">
                        </form>
                    </div>
                </div>
            </header>

            <!-- Content -->
            <div class="groups-content">
                <div class="groups-header">
                    <!-- <a class="public-groups" href="">Публичные группы</a> -->
                    <a class="pub-groups" href="javascript:void(0)" ng-click="openNewGroupCreation()">Создать публичную
                        группу</a>
                </div>

                <div ng-if="showMyGroups">
                    <div class="places-page-type-place">
                        <div>
                            <h4>Мои группы</h4>
                        </div>
                        <div class="places-type-place-btn" ng-if="!showAllButtons" ng-click="toogleGroupsView('my')">
                            Ещё
                        </div>
                        <div class="places-type-place-btn" ng-if="showAllButtons" ng-click="toogleGroupsView('all')">
                            Все
                        </div>
                    </div>
                    <div class="groups">
                        <div class="group"
                             ng-repeat="group in groupList | filter: showMyGroups | orderBy: ['-is_new_group', '-created_at'] |  limitTo: limitMyGroups">
                            <div class="group-cover">
                                <span class="groups-item-new-group" ng-if="group.is_new_group">NEW</span>
                                <a ui-sref="group({groupName: group.url_name, groupId: group.id})" class="group-ava">
                                    <!--<img ng-src="{{group.avatar}}">-->
                                    <img ngf-src="group.card_avatar" ngf-as-background="true">
                                </a>

                                <div class="group-likes">
                                    <a href="" class="group-like">{{::group.count_user}}</a>
                                    <a href="" class="group-comments">{{::group.publications}}</a>
                                </div>
                            </div>
                            <div class="titles">
                                <a href ng-class="{'groups-locked-icon': !group.is_open}" class="title">{{::group.name}}</a>

                                <p ng-bind-html="group.description | colonToSmiley" class="about"></p>
                            </div>
                            <button class="wright" ng-if="!group.is_sub" ng-click="subscribe(group)">Подписаться</button>
                            <button class="wright" ng-if="group.is_sub && !group.is_creator" ng-click="subscribe(group)">Отписаться</button>
                            <button class="wright" ng-if="group.is_sub && group.is_creator" ng-click="openModalUnsubscribeCreator()">Отписаться</button>
                        </div>
                    </div>
                </div>

                <div ng-if="showAllGroups">
                    <div class="places-page-type-place">
                        <div>
                            <h4>Все публичные группы</h4>
                        </div>
                        <select class="groups-filter" name="" id="" ng-model="filterGroups.value" ng-if="showAllButtons">
                            <option value="-count_user">Популярные</option>
                            <option value="-created_at">Новые</option>
                        </select>

                        <div class="places-type-place-btn" ng-if="!showAllButtons"
                             ng-click="toogleGroupsView('public')">Ещё
                        </div>
                        <div class="places-type-place-btn" ng-if="showAllButtons" ng-click="toogleGroupsView('all')">
                            Все
                        </div>
                    </div>
                    <div class="groups">
                        <div class="group"
                             ng-repeat="group in groupList | orderBy:filterGroups.value | limitTo: limitAllPublicGroups">
                            <div class="group-cover">
                                <span class="groups-item-new-group" ng-if="group.is_new_group">NEW</span>
                                <a ui-sref="group({groupName: group.url_name})" class="group-ava">
                                    <img ng-src="{{group.avatar}}">
                                </a>

                                <div class="group-likes">
                                    <a href="" class="group-like">{{::group.count_user}}</a>
                                    <a href="" class="group-comments">{{::group.publications}}</a>
                                </div>
                            </div>
                            <div class="titles">
                                <a href="" class="title">{{::group.name}}</a>

                                <p ng-bind-html="group.description | colonToSmiley" class="about"></p>
                            </div>
                            <button class="wright" ng-if="!group.is_sub" ng-click="subscribe(group)">Подписаться</button>
                            <button class="wright" ng-if="group.is_sub && !group.is_creator" ng-click="subscribe(group)">Отписаться</button>
                            <button class="wright" ng-if="group.is_sub && group.is_creator" ng-click="openModalUnsubscribeCreator()">Отписаться</button>
                        </div>
                    </div>
                </div>
            </div>

            <footer>
                <div class="footer">
                    <div class="footer-item">
                        <div class="footer-place">
                            <a href="">Place People </a>
                            <span>© 2016</span>
                        </div>
                        <div class="payment">
                            <a class="mastercard" href=""></a>
                            <a class="visa" href=""></a>
                        </div>
                    </div>
                    <div class="menu" ng-click="openBottomMenu()" ng-class="showBottomMenu ? 'open-bottom-menu' : ''"
                         ng-init="showBottomMenu=true;">
                        <a class="drop-menu" href=""></a>

                        <div class="menu-item" ng-show="showBottomMenu">
                            <a ng-repeat="staticPage in staticPages" ui-sref="static({ pageName: staticPage.name})">{{staticPage.description}}</a>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>
</div>